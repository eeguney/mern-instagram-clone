{"version":3,"file":"static/js/864.95c2e485.chunk.js","mappings":"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","sources":["helpers/validateEmailAdress.js","components/Auth/SignUp/PhoneAndEmailTab.js","components/Auth/SignUp/NameAndPassword.js","components/Auth/SignUp/ProfilePhotoSelect.js","components/Auth/SignUp/WelcometoNewUser.js","pages/SignUp.js"],"sourcesContent":["const validateEmailAdress = (email) => {\n  const re =\n    /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(email);\n};\n\nexport default validateEmailAdress;\n","import { useState, useRef } from \"react\";\nimport { checkEmailORNumber } from \"../../../api\";\nimport validateEmailAdress from \"../../../helpers/validateEmailAdress\";\nimport style from \"../Auth.module.css\";\n\nconst PhoneAndEmailTab = ({ step }) => {\n  const [form, setform] = useState({ email: \"\", number: \"\" });\n  const [error, seterror] = useState(null);\n  const [tab, settab] = useState(\"EMAIL\");\n\n  let emailRef = useRef();\n  let numberRef = useRef();\n\n  const checkEmail = async () => {\n    seterror(null);\n    const email = emailRef.current.value;\n    if (!validateEmailAdress(email)) {\n      seterror(\"This email adress is not valid.\");\n      return;\n    }\n    const isExist = await checkEmailORNumber({ email });\n    if (isExist.data) {\n      seterror(\"This email is currently in use.\");\n      return;\n    }\n    setform({...form, email});\n  };\n\n  const checkNumber = async () => {\n    seterror(null);\n    const number = numberRef.current.value;\n    if (number.length > 11 && number.length < 14) {\n      const isExist = await checkEmailORNumber({ number });\n      if (isExist.data) {\n        seterror(\"This number is currently in use.\");\n        return;\n      }\n      setform({...form, number});\n    } else seterror(\"This number is not valid.\");\n  };\n\n\n  return (\n    <div className={style.tab}>\n      <header>\n        <label\n          type=\"button\"\n          htmlFor=\"email\"\n          onClick={() => settab(\"EMAIL\")}\n          className={tab === \"EMAIL\" ? style.active : \"\"}\n        >\n          EMAIL\n        </label>\n        <label\n          type=\"button\"\n          htmlFor=\"phone\"\n          onClick={() => settab(\"PHONE\")}\n          className={tab === \"PHONE\" ? style.active : \"\"}\n        >\n          PHONE\n        </label>\n      </header>\n      <form autoComplete=\"off\">\n      <section>\n\n        {tab === \"EMAIL\" ? (\n          <input\n            type=\"text\"\n            id=\"email\"\n            ref={emailRef}\n            placeholder=\"Email\"\n            onChange={checkEmail}\n          />\n        ) : (\n          <input\n            type=\"number\"\n            id=\"phone\"\n            ref={numberRef}\n            placeholder=\"Phone\"\n            onChange={checkNumber}\n          />\n        )}\n        {error ? <span className={style.error}>{error}</span> : \"\"}\n        <button\n          onClick={() => error === null ? step(1, form) : \"\"}\n          type=\"button\"\n          className={`${style.submit} ${error !== null ? style.disabled : \"\"}`}\n        >\n          Continue\n        </button>\n      </section>\n        </form>\n    </div>\n  );\n};\n\nexport default PhoneAndEmailTab;\n","import { useState, useRef } from \"react\";\nimport { checkEmailORNumber } from \"../../../api\";\nimport style from \"../Auth.module.css\";\n\nexport const NameAndPassword = ({ step }) => {\n  const [form, setform] = useState({\n    fullname: null,\n    username: null,\n    password: null,\n  });\n  const [error, seterror] = useState(null);\n\n  let fullnameRef = useRef();\n  let usernameRef = useRef();\n  let passwordRef = useRef();\n\n  const checkName = () => {\n    seterror(null);\n    const fullname = fullnameRef.current.value;\n    if (fullname.length < 4 || fullname.length > 25) {\n      seterror(\"Your name is too short or long.\");\n      return;\n    }\n    setform({ ...form, fullname });\n  };\n\n  const checkUsername = async () => {\n    seterror(null);\n    const username = usernameRef.current.value;\n\n    if (username.length < 3 || username.length > 20) {\n      seterror(\"Your username is too short or long.\");\n      return;\n    }\n    const isExist = await checkEmailORNumber({ username: username });\n    if (isExist.data) {\n      seterror(\"This username already in use.\");\n      return;\n    }\n    setform({ ...form, username });\n  };\n\n  const checkPassword = () => {\n    seterror(null);\n    const password = passwordRef.current.value;\n    if (password.length < 8 || password.length > 25) {\n      seterror(\"Your password is too short or long.\");\n      return;\n    }\n    setform({ ...form, password });\n  };\n\n  return (\n    <div className={style.formContainer}>\n      <h3 className={style.componentTitle}>NAME AND PASSWORD</h3>\n      <form autoComplete=\"off\">\n        <section>\n          <input\n            ref={fullnameRef}\n            type=\"text\"\n            id=\"fullname\"\n            placeholder=\"Your name and surname\"\n            onChange={checkName}\n          />\n          <input\n            ref={usernameRef}\n            type=\"text\"\n            id=\"username\"\n            placeholder=\"Username\"\n            onChange={checkUsername}\n          />\n          <input\n            ref={passwordRef}\n            type=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            onChange={checkPassword}\n          />\n          {error ? <span className={style.error}>{error}</span> : \"\"}\n          <button\n            onClick={() => (error === null ? step(2, form) : \"\")}\n            type=\"button\"\n            className={`${style.submit} ${\n              error !== null ? style.disabled : \"\"\n            }`}\n          >\n            Continue\n          </button>\n        </section>\n      </form>\n    </div>\n  );\n};\n","import { useState } from \"react\";\nimport { ProfilePhotoIcon } from \"../../UI/Icons\";\nimport style from \"../Auth.module.css\";\n\nconst ProfilePhotoSelect = ({ step, loading }) => {\n  const [image, setImage] = useState(null);\n  const [createObjectURL, setCreateObjectURL] = useState(null);\n\n  const uploadToClient = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      const i = event.target.files[0];\n      setImage(i);\n      setCreateObjectURL(URL.createObjectURL(i));\n    }\n  };\n\n  const uploadToServer = () => {\n    step(3, image);\n  };\n\n  return (\n    <div className={style.formContainer}>\n      <img\n        src={createObjectURL ? createObjectURL : ProfilePhotoIcon}\n        alt=\"profilephoto\"\n      />\n      <h2>Upload a Profile Photo</h2>\n      <p>Upload a photo for your friends can recognize you.</p>\n      <div className={style.uploadButton}>\n        <div className={style.submitHidden}>Upload a Photo</div>\n        <input type=\"file\" name=\"image\" onChange={uploadToClient} />\n      </div>\n      <button\n        type=\"button\"\n        onClick={uploadToServer}\n        className={`${style.secondaryButton} ${style.photoContinue}`}\n      >\n        { loading ? \"Please wait...\" : \"Continue\"}\n      </button>\n    </div>\n  );\n};\n\nexport default ProfilePhotoSelect;\n","import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport style from \"../Auth.module.css\";\n\nexport const WelcometoNewUser = ({ username }) => {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    setTimeout(() => {\n      navigate(\"/signin\");\n    }, 5000);\n  }, [navigate]);\n\n  return (\n    <div className={style.formContainer}>\n      <h2>Welcome, {username}</h2>\n      <p>You will be redirected to the login page in 5 seconds.</p>\n    </div>\n  );\n};\n","import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport PhoneAndEmailTab from \"../components/Auth/SignUp/PhoneAndEmailTab\";\nimport style from \"../components/Auth/Auth.module.css\";\nimport { SignUpIcon } from \"../components/UI/Icons\";\nimport Wrapper from \"../components/Wrapper\";\nimport { NameAndPassword } from \"../components/Auth/SignUp/NameAndPassword\";\nimport ProfilePhotoSelect from \"../components/Auth/SignUp/ProfilePhotoSelect\";\n\nimport { signup, uploadtoCloudinary } from \"../api\";\nimport { WelcometoNewUser } from \"../components/Auth/SignUp/WelcometoNewUser\";\nimport { UPLOADPRESET } from \"../constants/Cloudinary\";\n\nexport default function SignUp() {\n  const [form, setform] = useState({\n    email: \"\",\n    number: \"\",\n    fullname: \"\",\n    username: \"\",\n    password: \"\",\n  });\n\n  const navigate = useNavigate();\n\n  const [stepIndex, setstepIndex] = useState(1);\n  const [loading, setloading] = useState(false);\n\n  const step = async (stepIndex, info) => {\n    switch (stepIndex) {\n      case 1:\n        setform({ ...form, email: info.email });\n        setstepIndex(2);\n        break;\n      case 2:\n        setform({\n          ...form,\n          fullname: info.fullname,\n          username: info.username,\n          password: info.password,\n        });\n        setstepIndex(3);\n        break;\n      case 3:\n        setloading(true)\n        const formData = new FormData();\n        formData.append(\"file\", info);\n        formData.append(\"upload_preset\", UPLOADPRESET);\n        const imageurl = await uploadtoCloud(formData);\n        await goRegister(imageurl);\n        \n        break;\n      default:\n        break;\n    }\n  };\n\n  const uploadtoCloud = async (data) => {\n    try {\n      const res = await uploadtoCloudinary(data);\n      return res.data.secure_url;\n    } catch (error) {}\n  };\n\n  const goRegister = async (imageurl) => {\n    try {\n      await signup({...form, profilePhoto: imageurl});\n      setloading(false)\n      setstepIndex(4);\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  return (\n    <Wrapper navigation={false}>\n      <div className={style.signUpContainer}>\n        <div className={style.center}>\n          {stepIndex === 1 ? (\n            <>\n              <img src={SignUpIcon} alt=\"Sign Up\" />\n              <PhoneAndEmailTab step={step} />\n            </>\n          ) : stepIndex === 2 ? (\n            <NameAndPassword step={step} />\n          ) : stepIndex === 3 ? (\n            <ProfilePhotoSelect step={step} loading={loading} />\n          ) : stepIndex === 4 ? (\n            <WelcometoNewUser username={form.username} />\n          ) : (\n            \"\"\n          )}\n        </div>\n        <button\n          type=\"button\"\n          className={style.changeMode}\n          onClick={() => navigate(\"/signin\")}\n        >\n          Are you already member? <span>Sign in.</span>\n        </button>\n      </div>\n    </Wrapper>\n  );\n}\n"],"names":["email","test","step","useState","number","form","setform","error","seterror","tab","settab","emailRef","useRef","numberRef","checkEmail","current","value","validateEmailAdress","checkEmailORNumber","data","checkNumber","length","className","style","type","htmlFor","onClick","autoComplete","id","ref","placeholder","onChange","NameAndPassword","fullname","username","password","fullnameRef","usernameRef","passwordRef","checkUsername","loading","image","setImage","createObjectURL","setCreateObjectURL","src","ProfilePhotoIcon","alt","name","event","target","files","i","URL","WelcometoNewUser","navigate","useNavigate","useEffect","setTimeout","SignUp","stepIndex","setstepIndex","setloading","info","formData","FormData","append","UPLOADPRESET","uploadtoCloud","imageurl","goRegister","uploadtoCloudinary","res","secure_url","signup","profilePhoto","console","log","message","Wrapper","navigation","SignUpIcon"],"sourceRoot":""}