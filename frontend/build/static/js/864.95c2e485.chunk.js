"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[864],{5864:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(1413),a=t(5861),s=t(885),u=t(7757),i=t.n(u),o=t(2791),c=t(6871),l=t(9396),p=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},f=t(3215),d=t(184),h=function(e){var n=e.step,t=(0,o.useState)({email:"",number:""}),u=(0,s.Z)(t,2),c=u[0],h=u[1],m=(0,o.useState)(null),x=(0,s.Z)(m,2),Z=x[0],b=x[1],v=(0,o.useState)("EMAIL"),j=(0,s.Z)(v,2),g=j[0],k=j[1],w=(0,o.useRef)(),y=(0,o.useRef)(),C=function(){var e=(0,a.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(null),n=w.current.value,p(n)){e.next=5;break}return b("This email adress is not valid."),e.abrupt("return");case 5:return e.next=7,(0,l.fp)({email:n});case 7:if(!e.sent.data){e.next=11;break}return b("This email is currently in use."),e.abrupt("return");case 11:h((0,r.Z)((0,r.Z)({},c),{},{email:n}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(null),!((n=y.current.value).length>11&&n.length<14)){e.next=12;break}return e.next=5,(0,l.fp)({number:n});case 5:if(!e.sent.data){e.next=9;break}return b("This number is currently in use."),e.abrupt("return");case 9:h((0,r.Z)((0,r.Z)({},c),{},{number:n})),e.next=13;break;case 12:b("This number is not valid.");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{className:f.Z.tab,children:[(0,d.jsxs)("header",{children:[(0,d.jsx)("label",{type:"button",htmlFor:"email",onClick:function(){return k("EMAIL")},className:"EMAIL"===g?f.Z.active:"",children:"EMAIL"}),(0,d.jsx)("label",{type:"button",htmlFor:"phone",onClick:function(){return k("PHONE")},className:"PHONE"===g?f.Z.active:"",children:"PHONE"})]}),(0,d.jsx)("form",{autoComplete:"off",children:(0,d.jsxs)("section",{children:["EMAIL"===g?(0,d.jsx)("input",{type:"text",id:"email",ref:w,placeholder:"Email",onChange:C}):(0,d.jsx)("input",{type:"number",id:"phone",ref:y,placeholder:"Phone",onChange:N}),Z?(0,d.jsx)("span",{className:f.Z.error,children:Z}):"",(0,d.jsx)("button",{onClick:function(){return null===Z?n(1,c):""},type:"button",className:"".concat(f.Z.submit," ").concat(null!==Z?f.Z.disabled:""),children:"Continue"})]})})]})},m=t(1091),x=t(8133),Z=function(e){var n=e.step,t=(0,o.useState)({fullname:null,username:null,password:null}),u=(0,s.Z)(t,2),c=u[0],p=u[1],h=(0,o.useState)(null),m=(0,s.Z)(h,2),x=m[0],Z=m[1],b=(0,o.useRef)(),v=(0,o.useRef)(),j=(0,o.useRef)(),g=function(){var e=(0,a.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(null),!((n=v.current.value).length<3||n.length>20)){e.next=5;break}return Z("Your username is too short or long."),e.abrupt("return");case 5:return e.next=7,(0,l.fp)({username:n});case 7:if(!e.sent.data){e.next=11;break}return Z("This username already in use."),e.abrupt("return");case 11:p((0,r.Z)((0,r.Z)({},c),{},{username:n}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{className:f.Z.formContainer,children:[(0,d.jsx)("h3",{className:f.Z.componentTitle,children:"NAME AND PASSWORD"}),(0,d.jsx)("form",{autoComplete:"off",children:(0,d.jsxs)("section",{children:[(0,d.jsx)("input",{ref:b,type:"text",id:"fullname",placeholder:"Your name and surname",onChange:function(){Z(null);var e=b.current.value;e.length<4||e.length>25?Z("Your name is too short or long."):p((0,r.Z)((0,r.Z)({},c),{},{fullname:e}))}}),(0,d.jsx)("input",{ref:v,type:"text",id:"username",placeholder:"Username",onChange:g}),(0,d.jsx)("input",{ref:j,type:"password",id:"password",placeholder:"Password",onChange:function(){Z(null);var e=j.current.value;e.length<8||e.length>25?Z("Your password is too short or long."):p((0,r.Z)((0,r.Z)({},c),{},{password:e}))}}),x?(0,d.jsx)("span",{className:f.Z.error,children:x}):"",(0,d.jsx)("button",{onClick:function(){return null===x?n(2,c):""},type:"button",className:"".concat(f.Z.submit," ").concat(null!==x?f.Z.disabled:""),children:"Continue"})]})})]})},b=function(e){var n=e.step,t=e.loading,r=(0,o.useState)(null),a=(0,s.Z)(r,2),u=a[0],i=a[1],c=(0,o.useState)(null),l=(0,s.Z)(c,2),p=l[0],h=l[1];return(0,d.jsxs)("div",{className:f.Z.formContainer,children:[(0,d.jsx)("img",{src:p||m.Z_,alt:"profilephoto"}),(0,d.jsx)("h2",{children:"Upload a Profile Photo"}),(0,d.jsx)("p",{children:"Upload a photo for your friends can recognize you."}),(0,d.jsxs)("div",{className:f.Z.uploadButton,children:[(0,d.jsx)("div",{className:f.Z.submitHidden,children:"Upload a Photo"}),(0,d.jsx)("input",{type:"file",name:"image",onChange:function(e){if(e.target.files&&e.target.files[0]){var n=e.target.files[0];i(n),h(URL.createObjectURL(n))}}})]}),(0,d.jsx)("button",{type:"button",onClick:function(){n(3,u)},className:"".concat(f.Z.secondaryButton," ").concat(f.Z.photoContinue),children:t?"Please wait...":"Continue"})]})},v=function(e){var n=e.username,t=(0,c.s0)();return(0,o.useEffect)((function(){setTimeout((function(){t("/signin")}),5e3)}),[t]),(0,d.jsxs)("div",{className:f.Z.formContainer,children:[(0,d.jsxs)("h2",{children:["Welcome, ",n]}),(0,d.jsx)("p",{children:"You will be redirected to the login page in 5 seconds."})]})},j=t(3764);function g(){var e=(0,o.useState)({email:"",number:"",fullname:"",username:"",password:""}),n=(0,s.Z)(e,2),t=n[0],u=n[1],p=(0,c.s0)(),g=(0,o.useState)(1),k=(0,s.Z)(g,2),w=k[0],y=k[1],C=(0,o.useState)(!1),N=(0,s.Z)(C,2),S=N[0],A=N[1],E=function(){var e=(0,a.Z)(i().mark((function e(n,a){var s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next=1===e.t0?3:2===e.t0?6:3===e.t0?9:19;break;case 3:return u((0,r.Z)((0,r.Z)({},t),{},{email:a.email})),y(2),e.abrupt("break",20);case 6:return u((0,r.Z)((0,r.Z)({},t),{},{fullname:a.fullname,username:a.username,password:a.password})),y(3),e.abrupt("break",20);case 9:return A(!0),(s=new FormData).append("file",a),s.append("upload_preset",j.k),e.next=15,P(s);case 15:return o=e.sent,e.next=18,U(o);case 18:case 19:return e.abrupt("break",20);case 20:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),P=function(){var e=(0,a.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.XL)(n);case 3:return t=e.sent,e.abrupt("return",t.data.secure_url);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=(0,a.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.IU)((0,r.Z)((0,r.Z)({},t),{},{profilePhoto:n}));case 3:A(!1),y(4),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return(0,d.jsx)(x.Z,{navigation:!1,children:(0,d.jsxs)("div",{className:f.Z.signUpContainer,children:[(0,d.jsx)("div",{className:f.Z.center,children:1===w?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("img",{src:m.DB,alt:"Sign Up"}),(0,d.jsx)(h,{step:E})]}):2===w?(0,d.jsx)(Z,{step:E}):3===w?(0,d.jsx)(b,{step:E,loading:S}):4===w?(0,d.jsx)(v,{username:t.username}):""}),(0,d.jsxs)("button",{type:"button",className:f.Z.changeMode,onClick:function(){return p("/signin")},children:["Are you already member? ",(0,d.jsx)("span",{children:"Sign in."})]})]})})}}}]);
//# sourceMappingURL=864.95c2e485.chunk.js.map